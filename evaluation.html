<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EVALOGOTOR - Tasks</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<style>
  .highlight { font-weight: bold; font-size: 1.25rem; color: rgb(57, 220, 57); }
  /* Default light mode for select options */
  #langSelect option { background-color: white; color: black; }
  /* Dark mode for select options */
  .dark #langSelect,
  .dark #langSelect option { background-color: #1f2937; color: white; }
  .status-ue { color: #94a3b8; }
</style>
</head>
<body id="body" class="bg-gray-50 text-gray-900 min-h-screen flex flex-col transition-colors">

<!-- Navbar -->
<header class="flex items-center justify-between px-6 py-4 shadow-sm bg-white" id="navbar">
  <div class="flex items-center group cursor-pointer">
    <span class="font-bold text-xl text-blue-600 group-hover:text-[rgb(57,220,57)]">EVA</span>
    <span class="highlight group-hover:text-[rgb(57,220,57)]">LOGO</span>
    <span class="font-bold text-xl text-blue-600 group-hover:text-[rgb(57,220,57)]">TOR</span>
  </div>
  <nav class="flex items-center space-x-4">
    <button class="flex items-center space-x-1 rounded-xl px-3 py-1 text-gray-500 hover:text-blue-600 hover:bg-gray-100" onclick="location.href='/'">
      <i data-lucide="home" class="w-4 h-4"></i> <span id="home">Home</span>
    </button>
    <button class="flex items-center space-x-1 rounded-xl px-3 py-1 text-gray-500 hover:text-blue-600 hover:bg-gray-100" onclick="location.href='scoreboard'">
      <i data-lucide="bar-chart-3" class="w-4 h-4"></i> <span id="scoreboard">Scoreboard</span>
    </button>
    <button id="loginBtn" class="rounded-xl flex items-center bg-white text-gray-900 hover:bg-gray-100 border border-gray-300 px-3 py-1" onclick="location.href='login'">
      <i data-lucide="user" class="w-4 h-4 mr-1"></i> <span id="login">Login</span>
    </button>
    <button id="themeToggle" class="rounded-xl flex items-center bg-white text-gray-900 hover:bg-gray-100 border border-gray-300 px-3 py-1">
      <i id="themeIcon" data-lucide="moon" class="w-4 h-4 mr-1"></i> <span id="themeLabel">Dark</span>
    </button>
    <div class="flex items-center rounded-xl px-2 py-1 border border-gray-300 bg-white">
      <i data-lucide="globe" class="w-4 h-4 mr-1"></i>
      <select id="langSelect" class="bg-transparent focus:outline-none text-gray-900">
        <option value="en">EN</option>
        <option value="de">DE</option>
        <option value="it">IT</option>
        <option value="hr">HR</option>
        <option value="fr">FR</option>
        <option value="ru">RU</option>
      </select>
    </div>
  </nav>
</header>

<!-- Main content -->
<main class="max-w-5xl mx-auto w-full px-6 pt-28 pb-6 flex flex-col gap-4">
  <div id="taskContext" class="rounded-2xl p-4 shadow bg-gray-100 dark:bg-gray-800 font-mono text-[1.15rem] font-medium">
    empty
  </div>

  <textarea id="codeInput" class="h-64 w-full rounded-lg p-3 font-mono text-sm bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-700" placeholder="Paste your solution code here..."></textarea>

  <div class="flex items-center gap-4">
    <button id="evalBtn" class="px-6 py-2 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-semibold">Evaluate</button>
    <span id="evalStatus" class="status-ue font-semibold">Unevaluated</span>
  </div>
</main>

<script>
lucide.createIcons();

// Dark mode and language
let darkMode = localStorage.getItem('theme') === 'dark';
let lang = localStorage.getItem('lang') || 'en';

const translations = {
  en: { home:"Home", scoreboard:"Scoreboard", login:"Login", themeDark:"Dark", themeLight:"Light", warning:"⚠️ Please paste your solution before evaluation" },
  de: { home:"Home", scoreboard:"Bestenliste", login:"Anmelden", themeDark:"Dunkel", themeLight:"Hell", warning:"⚠️ Bitte füge vor der Auswertung deinen Code ein" },
  it: { home:"Home", scoreboard:"Classifica", login:"Accedi", themeDark:"Scuro", themeLight:"Chiaro", warning:"⚠️ Inserisci il codice prima della valutazione" },
  hr: { home:"Home", scoreboard:"Rezultati", login:"Prijava", themeDark:"Tamno", themeLight:"Svijetlo", warning:"⚠️ Morate unijeti rješenje prije evaluacije" },
  fr: { home:"Home", scoreboard:"Classement", login:"Connexion", themeDark:"Sombre", themeLight:"Clair", warning:"⚠️ Veuillez coller votre solution avant l’évaluation" },
  ru: { home:"Home", scoreboard:"Таблица", login:"Войти", themeDark:"Тёмная", themeLight:"Светлая", warning:"⚠️ Пожалуйста, вставьте решение перед оценкой" }
};

// Apply translations
function applyLanguage() {
  document.getElementById("home").textContent = translations[lang].home;
  document.getElementById("scoreboard").textContent = translations[lang].scoreboard;
  document.getElementById("login").textContent = translations[lang].login;
  document.getElementById("themeLabel").textContent = darkMode ? translations[lang].themeLight : translations[lang].themeDark;
  const evalStatus = document.getElementById("evalStatus");
  if(!evalStatus.classList.contains("text-red-500")) evalStatus.textContent = "Unevaluated";
}

// Language change
document.getElementById("langSelect").addEventListener("change", e => {
  lang = e.target.value;
  localStorage.setItem('lang', lang);
  applyLanguage();
});

// Theme toggle
function applyTheme() {
  const body = document.getElementById("body");
  const navbar = document.getElementById("navbar");
  const themeToggle = document.getElementById("themeToggle");
  const loginBtn = document.getElementById("loginBtn");
  const langSelect = document.getElementById("langSelect");
  const themeIcon = document.getElementById("themeIcon");
  if(darkMode){
    body.classList.add("dark","bg-gray-900","text-white");
    body.classList.remove("bg-gray-50","text-gray-900");
    navbar.classList.add("bg-gray-800");
    navbar.classList.remove("bg-white");
    themeIcon.setAttribute("data-lucide","sun");
    themeToggle.classList.add("bg-gray-900","text-white","border-gray-600","hover:bg-gray-700","hover:text-gray-200");
    themeToggle.classList.remove("bg-white","text-gray-900","hover:bg-gray-100","hover:text-blue-600");
    loginBtn.classList.add("bg-gray-900","text-white","border-gray-600","hover:bg-gray-700","hover:text-gray-200");
    loginBtn.classList.remove("bg-white","text-gray-900","hover:bg-gray-100","hover:text-blue-600");
    langSelect.classList.add("text-white");
    langSelect.classList.remove("text-gray-900");
    langSelect.parentElement.classList.add("bg-gray-800","border-gray-600");
    langSelect.parentElement.classList.remove("bg-white","border-gray-300");
  } else {
    body.classList.add("bg-gray-50","text-gray-900");
    body.classList.remove("bg-gray-900","text-white");
    navbar.classList.add("bg-white");
    navbar.classList.remove("bg-gray-800");
    themeIcon.setAttribute("data-lucide","moon");
    themeToggle.classList.add("bg-white","text-gray-900","hover:bg-gray-100","hover:text-blue-600");
    themeToggle.classList.remove("bg-gray-900","text-white","hover:bg-gray-700","hover:text-gray-200","border-gray-600");
    loginBtn.classList.add("bg-white","text-gray-900","hover:bg-gray-100","hover:text-blue-600");
    loginBtn.classList.remove("bg-gray-900","text-white","hover:bg-gray-700","hover:text-gray-200","border-gray-600");
    langSelect.classList.add("text-gray-900");
    langSelect.classList.remove("text-white");
    langSelect.parentElement.classList.add("bg-white","border-gray-300");
    langSelect.parentElement.classList.remove("bg-gray-800","border-gray-600");
  }
  lucide.createIcons();
  localStorage.setItem('theme', darkMode ? 'dark' : 'light');
}
document.getElementById("themeToggle").addEventListener("click", () => {
  darkMode = !darkMode;
  applyTheme();
  applyLanguage();
});

// Evaluation
const codeInput = document.getElementById("codeInput");
const evalBtn = document.getElementById("evalBtn");
const evalStatus = document.getElementById("evalStatus");
evalBtn.addEventListener("click", () => {
  if(!codeInput.value.trim()){
    evalStatus.textContent = translations[lang].warning;
    evalStatus.classList.add("text-red-500");
    return;
  }
  evalStatus.textContent = "Unevaluated";
  evalStatus.classList.remove("text-red-500");
});
codeInput.addEventListener("input", () => {
  if(codeInput.value.trim()){
    evalStatus.textContent = "Unevaluated";
    evalStatus.classList.remove("text-red-500");
  }
});

// Init
document.addEventListener("DOMContentLoaded", () => {
  applyLanguage();
  applyTheme();
});
</script>

</body>
</html>
